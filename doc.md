# Как это работает

Через телеграм бот осуществляется изменение базы данных.
При запуске приложения запускается второй процесс `checker`, который через определенный промежуток времени опрашивает горздрав через их api и сохраняет полученную информацию в базу данных.

## База данных

Содержит две таблицы

- doctors
- users

### users

Таблица описывающая пользователей бота.
| Поле | Тип | Описание |
| -------------- | :------------------------------------: | --------------------------------------------- |
| **id** | int | идентификатор пользователя в телеграмме |
| is_active_ping | boolean | включена ли проверка врача этого пользователя |
| doctor_id | string(40) | идентификатор врача в таблице `doctors`|
| last_seen_date |datetime| время последнего действия пользователя |

### doctors

Таблица, представляющая описание врачей.
Поле | Тип | Описание
-- | :-: | --
**id** | string(40) | идентификатор врача в таблице
doctor_id | int (надо string) | идентификатор врача в госпитале
speciality_id | int (надо string) | идентификатор специальности в госпитале
hospital_id | int (надо string) | идентификатор госпиталя в горздраве

### db.py

### Классы

#### GorzdravSpbApi

Отвечает за получение данных с апи

#### Doctor

## Бот

on / off - включает выключает проверку
